<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ЭНИКУМ Конфигуратор v11.0</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;700&family=Roboto+Condensed:wght@400;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    
    <link rel="stylesheet" href="style.css">
    <style>
        /* Стили для Энциклопедии (SSOT) */
        .wiki-section { background: #fff; padding: 40px; border-radius: 8px; border: 1px solid #dee2e6; margin-top: 30px; color: #212529; line-height: 1.6; font-family: 'Roboto', sans-serif; }
        
        .wiki-title { font-family: 'Oswald'; color: #212529; font-size: 28px; text-transform: uppercase; margin-bottom: 25px; line-height: 1.2; border-left: 6px solid #F7941D; padding-left: 20px; }
        
        .wiki-intro { font-size: 16px; margin-bottom: 40px; color: #495057; text-align: justify; border-bottom: 1px solid #EEE; padding-bottom: 20px; }
        .wiki-intro p { margin-bottom: 15px; }

        .wiki-h2 { font-family: 'Oswald'; font-size: 22px; margin-top: 50px; margin-bottom: 20px; color: #343A40; display: flex; align-items: center; gap: 10px; border-bottom: 2px solid #DEE2E6; padding-bottom: 8px; }
        .wiki-h3 { font-family: 'Oswald'; font-size: 18px; margin-top: 30px; margin-bottom: 15px; color: #495057; text-transform: uppercase; }

        /* Таблицы */
        .wiki-table { width: 100%; border-collapse: collapse; font-size: 13px; margin: 20px 0; background: #fff; border: 1px solid #DEE2E6; }
        .wiki-table th { background: #343A40; color: #fff; padding: 12px; border: 1px solid #454D55; text-align: left; vertical-align: middle; }
        .wiki-table td { padding: 10px 12px; border: 1px solid #DEE2E6; vertical-align: top; }
        .wiki-table tr:nth-child(even) { background-color: #F8F9FA; }
        .wiki-table tr:hover { background-color: #f1f3f5; }

        /* Карточки категорий */
        .cat-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-bottom: 40px; }
        .cat-card { padding: 25px; border-radius: 8px; border: 1px solid #E9ECEF; background: #FAFBFC; box-shadow: 0 2px 5px rgba(0,0,0,0.03); }
        .cat-card.bus { border-top: 5px solid #0D6EFD; }
        .cat-card.signal { border-top: 5px solid #198754; }
        .cat-card.control { border-top: 5px solid #F7941D; }
        .cat-head { font-family: 'Oswald'; font-size: 20px; margin-bottom: 15px; text-transform: uppercase; letter-spacing: 0.5px; }
        
        /* Списки и формулы */
        .spec-list { list-style: none; padding: 0; }
        .spec-list li { margin-bottom: 10px; padding-left: 20px; position: relative; }
        .spec-list li::before { content: "•"; color: #F7941D; font-weight: bold; position: absolute; left: 0; }
        .formula { font-family: 'Times New Roman', serif; font-style: italic; background: #f8f9fa; padding: 2px 6px; border-radius: 4px; border: 1px solid #e9ecef; }
        
        .idx-badge { font-family: 'Oswald'; font-weight: bold; color: #212529; background: #E9ECEF; padding: 3px 8px; border-radius: 4px; border: 1px solid #ADB5BD; font-size: 12px; display: inline-block; }
    </style>
</head>
<body>

<div class="app-header">
    <div class="header-top">
        <div class="logo"><span>Э</span>НИКУМ <span class="version-badge">v11.0 MODULAR</span></div>
        <div style="font-size:11px; color:#ADB5BD;">Energocomplex Engineering</div>
    </div>
    <div class="sku-box">
        <div class="sku-label">
            <span>АРТИКУЛ</span>
            <div class="reset-btn" onclick="app.resetAll()"><i class="fas fa-undo"></i> Сброс</div>
        </div>
        <div class="sku-val" id="skuDisplay">...</div>
        <div class="icon-dashboard" id="headerIcons"></div>
    </div>
</div>

<div id="p-conf" class="page active">
    <div class="cat-tabs">
        <div class="cat-btn active" onclick="app.setCat('BUS', this)"><i class="fas fa-network-wired"></i> BUS</div>
        <div class="cat-btn" onclick="app.setCat('SIGNAL', this)"><i class="fas fa-wave-square"></i> SIGNAL</div>
        <div class="cat-btn" onclick="app.setCat('CONTROL', this)"><i class="fas fa-bolt"></i> CONTROL</div>
    </div>
    
    <div id="sysAlert" class="sys-alert-block">
        <div style="font-family:'Oswald'; font-weight:bold; margin-bottom:5px; text-transform:uppercase;"><i class="fas fa-clipboard-check"></i> Инженерный контроль</div>
        <div id="sysAlertContent"></div>
    </div>

    <div class="container" id="formArea"></div>
    
    <div class="app-footer">
        <div>© 2025 ENICUM Configuration Tool</div>
        <div>support@enicum.ru</div>
    </div>
</div>

<div id="p-matrix" class="page">
    <div class="container">
        <h3 style="font-family:'Oswald'; margin-bottom:15px;">МАТРИЦА СОВМЕСТИМОСТИ</h3>
        <div class="matrix-scroll-wrap"><div id="summaryTableArea"></div></div>
        
        <div class="wiki-section">
            <div class="wiki-title">СИСТЕМАТИЗАЦИЯ КАБЕЛЬНЫХ РЕШЕНИЙ ЭНИКУМ ДЛЯ ПРОМЫШЛЕННОЙ АВТОМАТИЗАЦИИ: ФИЗИЧЕСКИЕ ОСНОВЫ И КРИТЕРИИ ВЫБОРА</div>
            
            <div class="wiki-intro">
                <p>Марка кабеля для промышленной автоматизации "ЭНИКУМ" содержит в своем названии аббревиатуру <b>_КУМ</b> (Кабель Универсальный Монтажный), что отражает специфику данного проектного продукта. В отличие от складских марок, ЭНИКУМ является универсальным кабелем и изготавливается под конкретные проектные требования заказчика, чем обуславливается его назначение, конструктив, технические характеристики и свойства.</p>
                <p>Вместо того, чтобы сравнивать и выбирать из каталогов подходящую модель, мы предлагаем просто создать ее самим под свои конкретные потребности. Выбирая необходимые параметры, которые обозначены индексами в таблице маркообразования, вы создаете как в конструкторе свой продукт, свое уникальное техническое решение.</p>
                <p>Для удобства и систематизации подбора и во избежение проектных ошибок, продуктовая матрица ЭНИКУМ условно разделена на три фундаментальные категории: <b>BUS</b> (Интерфейсные), <b>SIGNAL</b> (Монтажные) и <b>CONTROL</b> (Контроль и Управление). Раскроем ниже электрофизические причины такого разделения.</p>
            </div>

            <div class="wiki-h2"><i class="fas fa-sitemap"></i> 1. УРОВЕНЬ АСУ ТП И ФИЗИКА СИГНАЛОВ</div>
            <p>Система автоматизации строится иерархически. Каждая кабельная группа обслуживает свой уровень, работая с уникальной природой электрического сигнала.</p>
            
            <div class="cat-grid">
                <div class="cat-card bus">
                    <div class="cat-head" style="color:#0D6EFD;">1.1. BUS (Интерфейсные)</div>
                    <ul class="spec-list">
                        <li><b>Уровень:</b> Level 1 (Control Level). ПЛК, панели, частотники.</li>
                        <li><b>Физика:</b> Высокочастотный цифровой поток (МГц). Информация передается фронтами импульсов. Работает как длинная линия.</li>
                        <li><b>Реализация:</b> Дифференциальная пара (RS-485). Логическая «1» и «0» определяются разностью потенциалов ($U_{diff} > 200$ мВ).</li>
                    </ul>
                </div>
                <div class="cat-card signal">
                    <div class="cat-head" style="color:#198754;">1.2. SIGNAL (Монтажные)</div>
                    <ul class="spec-list">
                        <li><b>Уровень:</b> Level 0 (Sensor-to-PLC). Датчики и исполнительные механизмы.</li>
                        <li><b>Физика:</b> Аналог (4...20 мА, 0...10В) или низкоскоростная дискретика. Волновые эффекты отсутствуют.</li>
                        <li><b>Главный враг:</b> Искажение амплитуды из-за помех или омического сопротивления.</li>
                    </ul>
                </div>
                <div class="cat-card control">
                    <div class="cat-head" style="color:#F7941D;">1.3. CONTROL (Управление)</div>
                    <ul class="spec-list">
                        <li><b>Уровень:</b> Силовое управление, вторичная коммутация (соленоиды, пускатели, двигатели).</li>
                        <li><b>Физика:</b> Энергия (Power). Передача тока для совершения работы.</li>
                        <li><b>Факторы:</b> Нагрев (Закон Джоуля-Ленца) и коммутационные перенапряжения.</li>
                    </ul>
                </div>
            </div>

            <div class="wiki-h2"><i class="fas fa-bolt"></i> 2. НАПРЯЖЕНИЯ: РАБОЧЕЕ vs. НОМИНАЛЬНОЕ</div>
            <p><i>«Зачем мне изоляция на 300В или 500В, если у меня в кабеле бежит цифровой сигнал 5 Вольт?»</i> — Ответ кроется в электробезопасности и переходных процессах.</p>
            <table class="wiki-table">
                <thead>
                    <tr>
                        <th>Категория</th>
                        <th>Рабочее (Сигнал)</th>
                        <th>Изоляция (U<sub>0</sub>/U)</th>
                        <th>Обоснование</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><b>BUS</b></td>
                        <td>5В (TTL) ... 12В</td>
                        <td>300/500 В</td>
                        <td>Соседство с силовыми линиями 220/380В. Защита от пробоя фазы на лоток и синфазных помех (перекос «земли»).</td>
                    </tr>
                    <tr>
                        <td><b>SIGNAL</b></td>
                        <td>24В ... 48В</td>
                        <td>300/500 В</td>
                        <td>Универсальность (релейная логика до 220В) и механическая прочность изоляции от передавливания.</td>
                    </tr>
                    <tr>
                        <td><b>CONTROL</b></td>
                        <td>24В ... 660В</td>
                        <td>660/1000 В</td>
                        <td><b>Коммутационные перенапряжения.</b> ЭДС самоиндукции при отключении индуктивной нагрузки может достигать 1000–1500В.</td>
                    </tr>
                </tbody>
            </table>

            <div class="wiki-h2"><i class="fas fa-table"></i> 3. СВОДНАЯ ТЕХНИЧЕСКАЯ МАТРИЦА</div>
            <table class="wiki-table">
                <thead>
                    <tr>
                        <th>Параметр</th>
                        <th style="color:#0D6EFD;">BUS (Интерфейсный)</th>
                        <th style="color:#198754;">SIGNAL (Монтажный)</th>
                        <th style="color:#F7941D;">CONTROL (Управление)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>Основная функция</td><td>Передача данных (Цифра)</td><td>Измерение и контроль (Аналог)</td><td>Силовое управление (Энергия)</td></tr>
                    <tr><td>Уровень АСУ ТП</td><td>Level 1</td><td>Level 0 → Level 1</td><td>Level 1 → Level 0</td></tr>
                    <tr><td>Физика сигнала</td><td>ВЧ-импульсы (МГц)</td><td>Ток / Напряжение / Контакт</td><td>Ток пром. частоты / DC</td></tr>
                    <tr><td>Критичные параметры</td><td>Волновое сопр. (Z<sub>0</sub>), Емкость</td><td>Помехозащищенность (Экран)</td><td>Токовая нагрузка, Пробой U<sub>max</sub></td></tr>
                    <tr><td>Типичные сечения</td><td>0.22 ... 0.78 мм²</td><td>0.5 ... 1.5 мм²</td><td>0.75 ... 6.0 мм² и выше</td></tr>
                </tbody>
            </table>

            <div class="wiki-h2"><i class="fas fa-list-ol"></i> ИНДЕКСЫ МАРКООБРАЗОВАНИЯ (1-24)</div>
            <p>Ниже приведены характеристики элементов конструкции согласно ТУ.</p>
            
            <div class="wiki-h3">1. Применение во взрывоопасных зонах</div>
            <table class="wiki-table">
                <tr>
                    <td width="100" class="text-center"><span class="idx-badge">Вз</span></td>
                    <td>Для применения кабеля с частичной продольной и радиальной герметичностью на объектах с риском возникновения взрывоопасных сред (газ, пар, пыль) по ГОСТ IEC 60079-14.</td>
                </tr>
            </table>

            <div class="wiki-h3">2. Изоляция и типы</div>
            <table class="wiki-table">
                <tr>
                    <td width="100" class="text-center"><span class="idx-badge">В</span></td>
                    <td><b>PVC.</b> ПВХ пластикат. Общее назначение (СКУД, КИПиА). R<sub>из</sub> ≥ 50 Ом/км.</td>
                </tr>
                <tr>
                    <td class="text-center"><span class="idx-badge">П</span></td>
                    <td><b>Polymer HF.</b> Безгалогенная композиция. Для мест с людьми. R<sub>из</sub> ≥ 100 Ом/км.</td>
                </tr>
                <tr>
                    <td class="text-center"><span class="idx-badge">Пв / Пс</span></td>
                    <td><b>FPE / XLPE.</b> Вспененный или сшитый полиэтилен. Низкая емкость. Для интерфейсов RS-485, Profibus.</td>
                </tr>
                <tr>
                    <td class="text-center"><span class="idx-badge">Тп</span></td>
                    <td><b>TPE.</b> Термоэластопласт. Высокая гибкость, до +100°С. Робототехника.</td>
                </tr>
                <tr>
                    <td class="text-center"><span class="idx-badge">Ф</span></td>
                    <td><b>FEP.</b> Фторопласт. Экстремальная химия и температуры до +250°С. R<sub>из</sub> ≥ 1000 Ом/км.</td>
                </tr>
                <tr>
                    <td class="text-center"><span class="idx-badge">Вк / Пк / Пск</span></td>
                    <td><b>Mica + ...</b> Огнестойкие исполнения со слюдяными лентами. Защита от КЗ в открытом пламени.</td>
                </tr>
            </table>
            <div class="wiki-h3">4. Экранирование (Индивидуальное и Общее)</div>
            <table class="wiki-table">
                <tr>
                    <td width="150"><b>ЭИм / Эм</b></td>
                    <td>Медная лента. Стационарное использование.</td>
                </tr>
                <tr>
                    <td><b>ЭИо / Эо</b></td>
                    <td>Медная оплетка. Подвижное использование.</td>
                </tr>
                <tr>
                    <td><b>ЭИал / Эал</b></td>
                    <td>Алюмолавсан + Луженая оплетка. Защита от коррозии.</td>
                </tr>
                <tr>
                    <td><b>ЭИкм / Экм</b></td>
                    <td>Тройной экран (Оплетка-Лента-Оплетка). Максимальная защита.</td>
                </tr>
            </table>

            <div class="wiki-h2"><i class="fas fa-network-wired"></i> 23. ПРОТОКОЛЫ И ИНТЕРФЕЙСЫ</div>
            <p>Физика передачи цифровых сигналов по длинным линиям.</p>
            
            <div style="background:#f8f9fa; padding:15px; border-left:4px solid #333; margin:15px 0;">
                <b>Волновое сопротивление (Z<sub>0</sub>):</b> $$Z_0 = \sqrt{\frac{L}{C}}$$
                Не зависит от длины кабеля. Определяется геометрией и химией диэлектрика ($\epsilon$). Если Z<sub>0</sub> не совпадает с нагрузкой, возникает отражение сигнала.
            </div>

            <table class="wiki-table">
                <thead>
                    <tr>
                        <th>Параметр</th>
                        <th style="color:#0D6EFD;">[485] RS-485</th>
                        <th style="color:#6610f2;">[PB] Profibus DP</th>
                        <th style="color:#fd7e14;">[FF] Fieldbus</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td><b>Волновое сопр.</b></td><td>120 Ом (±15)</td><td>150 Ом</td><td>100 Ом (±20)</td></tr>
                    <tr><td><b>Скорость</b></td><td>до 10 Мбит/с</td><td>до 12 Мбит/с</td><td>31.25 кбит/с</td></tr>
                    <tr><td><b>Изоляция</b></td><td>Вспененный ПЭ (Пв)</td><td>Physical Foam Skin (Пв)</td><td>Сшитый ПЭ (Пс)</td></tr>
                    <tr><td><b>Особенность</b></td><td>Универсальный</td><td>Критичен к емкости</td><td>Data + Power</td></tr>
                </tbody>
            </table>

            <div class="wiki-h2" style="color:#DC3545; border-color:#DC3545;"><i class="fas fa-fire-extinguisher"></i> 11. ПОЖАРНАЯ БЕЗОПАСНОСТЬ (ФЗ-123)</div>
            <table class="wiki-table">
                <thead style="border-bottom: 2px solid #DC3545;">
                    <tr>
                        <th style="background:#DC3545;">Индекс</th>
                        <th style="background:#DC3545;">Описание</th>
                        <th style="background:#DC3545;">Класс зданий</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><b>нг(А)-LS</b></td>
                        <td>Low Smoke. Пониженное дымовыделение.</td>
                        <td>Жилые дома, заводы (Ф1.3, Ф5)</td>
                    </tr>
                    <tr>
                        <td><b>нг(А)-HF</b></td>
                        <td>Halogen Free. Нет коррозии.</td>
                        <td>Офисы, БЦ, Аэропорты (Ф4, Ф3)</td>
                    </tr>
                    <tr>
                        <td><b>нг(А)-FRLS</b></td>
                        <td>Fire Resistant + LS. Огнестойкий.</td>
                        <td>Системы СПЗ (Ф1-Ф5)</td>
                    </tr>
                    <tr>
                        <td><b>нг(А)-LSLTx</b></td>
                        <td>Low Toxic. Низкая токсичность.</td>
                        <td>Детсады, больницы (Ф1.1)</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<div id="p-pdf" class="page">
    <div class="pdf-preview-wrap" id="pdfExportTarget">
        <div class="pdf-content">
            <div style="display:flex; justify-content:space-between; align-items:flex-end; border-bottom: 3px solid #F7941D; padding-bottom: 15px; margin-bottom: 30px;">
                <div>
                    <div style="font-family:'Oswald'; font-size:36px; line-height:1; color:#1D1D1B;">ЭНИКУМ</div>
                    <div style="font-size:12px; color:#777; letter-spacing:1px; margin-top:5px;">ЗАВОД СПКБ ТЕХНО</div>
                </div>
                <div style="text-align:right;">
                    <div style="font-weight:bold; font-size:14px;">ТУ 27.32.13-001-33185018-2023</div>
                </div>
            </div>
            <div style="background:#F8F9FA; padding:20px; border-radius:4px; margin-bottom:30px;">
                <div id="pdfSkuMain" style="font-family:'Oswald'; font-size:24px; color:#1D1D1B;">...</div>
                <div id="pdfIcons" style="display:flex; gap:6px; margin-top:12px; flex-wrap:wrap;"></div>
            </div>
            <table style="width:100%; font-size:11px; border-collapse:collapse; border-top:2px solid #333;">
                <tbody id="pdfSpecsTable"></tbody>
            </table>
        </div>
    </div>
    <div class="fab-download" onclick="app.downloadPDF()"><i class="fas fa-file-pdf"></i></div>
</div>

<div class="toast-container" id="toasts"></div>
<div class="btm-nav">
    <div class="nav-btn active" onclick="nav('conf', this)"><i class="fas fa-sliders-h"></i> Конфиг</div>
    <div class="nav-btn" onclick="nav('matrix', this)"><i class="fas fa-book"></i> Справка</div>
    <div class="nav-btn" onclick="nav('pdf', this)"><i class="fas fa-file-alt"></i> PDF</div>
</div>

<script src="database.js"></script>
<script src="logic.js"></script>

</body>
</html>