/* database.js - База знаний ЭНИКУМ v13.0 (Backup v13 Stable) */

const DB = {
    // ============================================================
    // 1. ФИЗИКА МАТЕРИАЛОВ (СВОЙСТВА И ОГРАНИЧЕНИЯ)
    // ============================================================
    // ============================================================
    // 1. ФИЗИКА МАТЕРИАЛОВ (v14.3: Added FR & Family to Jackets)
    // ============================================================
    MAT_PROPS: {
        // --- ИЗОЛЯЦИЯ (Insulation) ---
        'В':   { minT: -50, maxT: 70,  hf: false, fr: false, oil: true,  chem: false, flex_grade: 1, rank: 1, family: 'PVC' },
        'Вк':  { minT: -50, maxT: 70,  hf: false, fr: true,  oil: true,  chem: false, flex_grade: 0, rank: 1, family: 'PVC' },
        
        'П':   { minT: -50, maxT: 70,  hf: true,  fr: false, oil: false, chem: false, flex_grade: 1, rank: 2, family: 'HF' },
        'Пк':  { minT: -50, maxT: 70,  hf: true,  fr: true,  oil: false, chem: false, flex_grade: 0, rank: 2, family: 'HF' },
        
        'Пп':  { minT: -60, maxT: 80,  hf: true,  fr: false, oil: false, chem: false, flex_grade: 1, rank: 3, family: 'PO' },
        'Ппк': { minT: -60, maxT: 80,  hf: true,  fr: true,  oil: false, chem: false, flex_grade: 0, rank: 3, family: 'PO' },
        
        'Пс':  { minT: -60, maxT: 90,  hf: true,  fr: false, oil: false, chem: false, flex_grade: 0, rank: 3, family: 'XLPE' },
        'Пск': { minT: -60, maxT: 90,  hf: true,  fr: true,  oil: false, chem: false, flex_grade: 0, rank: 3, family: 'XLPE' },
        
        'Пв':  { minT: -60, maxT: 80,  hf: false, fr: false, oil: false, chem: false, flex_grade: 0, rank: 2, family: 'FPE' }, // Special
        
        'Пб':  { minT: -50, maxT: 125, hf: true,  fr: false, oil: true,  chem: true,  flex_grade: 1, rank: 4, family: 'XL-HF' },
        'Пбк': { minT: -50, maxT: 125, hf: true,  fr: true,  oil: true,  chem: true,  flex_grade: 1, rank: 4, family: 'XL-HF' },
        
        'Тп':  { minT: -60, maxT: 125, hf: true,  fr: false, oil: true,  chem: true,  flex_grade: 2, rank: 4, family: 'TPE' },
        
        'У':   { minT: -60, maxT: 90,  hf: true,  fr: false, oil: true,  chem: true,  flex_grade: 2, rank: 4, family: 'PUR' },
        
        'Р':   { minT: -60, maxT: 200, hf: true,  fr: true,  oil: false, chem: true,  flex_grade: 2, rank: 5, family: 'SIL' },
        'РПс': { minT: -60, maxT: 200, hf: true,  fr: true,  oil: false, chem: true,  flex_grade: 2, rank: 5, family: 'SIL' },
        'РПп': { minT: -60, maxT: 200, hf: true,  fr: true,  oil: false, chem: true,  flex_grade: 2, rank: 5, family: 'SIL' },
        
        'Ф':   { minT: -60, maxT: 250, hf: true,  fr: false, oil: true,  chem: true,  flex_grade: 1, rank: 6, family: 'FEP' },

        // --- ОБОЛОЧКИ (Jackets) - J_prefix ---
        // Важно: fr: true здесь означает "может быть в составе FR кабеля"
        'J_В':  { minT: -50, maxT: 70,  hf: false, fr: true, oil: true,  uv: false, flex_grade: 1, rank: 1, family: 'PVC' },
        'J_П':  { minT: -50, maxT: 70,  hf: true,  fr: true, oil: false, uv: false, flex_grade: 1, rank: 2, family: 'HF' },
        'J_Пэ': { minT: -60, maxT: 80,  hf: false, fr: false, oil: false, uv: true,  flex_grade: 0, rank: 2, family: 'PE' },
        
        'J_У':  { minT: -60, maxT: 90,  hf: true,  fr: false, oil: true,  uv: true,  flex_grade: 2, rank: 4, family: 'PUR' },
        'J_ПУ': { minT: -60, maxT: 90,  hf: true,  fr: true,  oil: true,  uv: true,  flex_grade: 2, rank: 4, family: 'PUR' },
        
        'J_Р':  { minT: -60, maxT: 200, hf: true,  fr: true,  oil: false, uv: true,  flex_grade: 2, rank: 5, family: 'SIL' },
        'J_Тп': { minT: -60, maxT: 100, hf: true,  fr: false, oil: true,  uv: true,  flex_grade: 2, rank: 4, family: 'TPE' },
        'J_Пб': { minT: -60, maxT: 150, hf: true,  fr: false, oil: true,  uv: true,  flex_grade: 1, rank: 3, family: 'XL-HF' },
        'J_Ф':  { minT: -60, maxT: 250, hf: true,  fr: false, oil: true,  uv: true,  flex_grade: 1, rank: 6, family: 'FEP' }
    },

    // ============================================================
    // 2. ИНДЕКСЫ (ORIGINAL SHORT NAMES)
    // ============================================================
    // ============================================================
    // 2. ИНДЕКСЫ (v14.13: Rich Text for Empty Options)
    // ============================================================
    INDICES: [
        { id:1, n:"Взрывозащита", opts:[
            {c:"", l:"Нет (Общепром)", 
             hint:"При отсутствии требования индекс не ставится.", 
             wiki:"Общепромышленное исполнение. Применяется на объектах без риска возникновения взрывоопасных сред."}, 
            {c:"Вз", l:"Вз - Взрывозащита", 
             hint:"Для применения во взрывоопасных зонах.", 
             wiki:"Вз - для применения кабеля с частичной продольной и радиальной герметичностью на объектах и в помещениях, где возможны наличия смеси воздуха с горючими веществами в форме газа, пара или тумана."}
        ]},
        { id:2, n:"Изоляция ТПЖ", opts:[
            {c:"В", l:"В - из поливинилхлоридного пластиката", 
             hint:"В том числе пониженной пожарной опасности.", 
             wiki:"В - из поливинилхлоридного пластиката. Применение: для общего назначения, систем связи, СКУД, КИПиА, АСУ ТП."}, 
            {c:"Вк", l:"Вк - из слюдяных лент и ПВХ пластиката", 
             hint:"Комбинированная изоляция (огнестойкая).", 
             wiki:"Вк - из огнестойких слюдяных лент и поливинилхлоридного пластиката. Для систем пожарной безопасности и защиты от КЗ в условиях открытого пламени."},
            {c:"П", l:"П - из полимерной композиции", 
             hint:"Не содержащей галогенов (HF).", 
             wiki:"П - из полимерной композиции, не содержащей галогенов. Для объектов с массовым скоплением людей."}, 
            {c:"Пк", l:"Пк - из слюдяных лент и полимерной композиции", 
             hint:"Комбинированная изоляция (огнестойкая HF).", 
             wiki:"Пк - из огнестойких слюдяных лент и полимерной композиции, не содержащей галогенов. Для систем пожарной безопасности."},
            {c:"Пв", l:"Пв - из вспененного полиэтилена", 
             hint:"Низкая емкость (для RS-485).", 
             wiki:"Пв – из вспененного полиэтилена. Для интерфейсов RS-485, Profibus, Fieldbus."}, 
            {c:"Пп", l:"Пп - из полиолефиновой композиции", 
             hint:"Для интерфейсов передачи данных.", 
             wiki:"Пп - из полиолефиновой композиции. Для интерфейсов RS-485, Profibus, Fieldbus."}, 
            {c:"Ппк", l:"Ппк - из слюдяных лент и сплошного полиэтилена", 
             hint:"Комбинированная изоляция (огнестойкая).", 
             wiki:"Ппк - из огнестойких слюдяных лент и полиолефиновой композиции. Для систем пожарной безопасности."},
            {c:"Пс", l:"Пс - из сшитого полиолефина (полиэтилена)", 
             hint:"Повышенная прочность.", 
             wiki:"Пс - из сшитого полиолефина (полиэтилена). Для высокоскоростных сетей передачи данных."}, 
            {c:"Пск", l:"Пск - из слюдяных лент и сшитого полиэтилена", 
             hint:"Комбинированная изоляция (огнестойкая).", 
             wiki:"Пск - из огнестойких слюдяных лент и сшитого полиолефина. Максимальная защита цифровых линий при пожаре."},
            {c:"Пб", l:"Пб - из сшитой полимерной композиции (HF)", 
             hint:"Не содержащей галогенов.", 
             wiki:"Пб - из сшитой полимерной композиции, не содержащей галогенов. Для агрессивных сред."},
            {c:"Пбк", l:"Пбк - из слюдяных лент и сшитой полимерной композиции", 
             hint:"Комбинированная изоляция (огнестойкая HF).", 
             wiki:"Пбк - из огнестойких слюдяных лент и сшитой полимерной композиции. Для систем СПЗ в условиях агрессивных сред."},
            {c:"Тп", l:"Тп - из термоэластопласта", 
             hint:"Высокая гибкость, до +100°С.", 
             wiki:"Тп - из термоэластопласта. Эксплуатация в условиях повышенной температуры до 100°С."}, 
            {c:"Р", l:"Р - из силиконовой резины", 
             hint:"Огнестойкая керамообразующая резина.", 
             wiki:"Р - из огнестойкой силиконовой (кремнийорганической) керамообразующей резины. Работает при t до +200°С."}, 
            {c:"РПс", l:"РПс - из силиконовой резины и сшитого полиэтилена", 
             hint:"Комбинированная изоляция.", 
             wiki:"РПс - Комбинированная: Силикон + Сшитый полиэтилен. Для защиты интерфейса RS-485 в условиях пожара."}, 
            {c:"РПп", l:"РПп - из силиконовой резины и полиолефиновой композиции", 
             hint:"Комбинированная изоляция.", 
             wiki:"РПп - Комбинированная: Силикон + Полиолефин. Для интерфейсов CAN, HART, ModBus в зонах возгорания."}, 
            {c:"Ф", l:"Ф - из сополимеров фторопласта", 
             hint:"Высокая химстойкость, до +250°С.", 
             wiki:"Ф - из сополимеров фторопласта. Экстремальная стойкость: температура до +250°С, химия, масла."}
        ]},
        { id:3, n:"Барьер Пары", opts:[
            {c:"", l:"Нет", 
             hint:"Без огнестойкого барьера.", 
             wiki:"Конструкция без индивидуального огнестойкого барьера. Применяется, когда не требуется сохранение работоспособности пары при пожаре (или при наличии общего барьера)."}, 
            {c:"Си", l:"Си - с огнестойким барьером", 
             hint:"Индивидуальный барьер из слюдяных лент.", 
             wiki:"Си - слюдяная огнестойкая лента поверх скрученной пары/тройки. Дополнительная защита изоляции от воздействия открытого пламени."}
        ]},
        { id:4, n:"Экран Пары", opts:[
            {c:"", l:"Нет", 
             hint:"Без экрана.", 
             wiki:"Пары без индивидуального экранирования. Применяется в условиях с нормальной электромагнитной обстановкой (отсутствие сильных помех)."}, 
            {c:"ЭИм", l:"ЭИм - экран из металлополимерной медной ленты", 
             hint:"Обмотка лентой с контактным проводником.", 
             wiki:"ЭИм - экран из металлополимерной медной ленты. Для стационарного использования."}, 
            {c:"ЭИмо", l:"ЭИмо - медная лента + оплетка", 
             hint:"Комбинированный (двойной) экран.", 
             wiki:"ЭИмо - медная лента + оплетка из медной проволоки. Усиленная защита от помех."}, 
            {c:"ЭИкм", l:"ЭИкм - оплетка + медная лента + оплетка", 
             hint:"Комбинированный (тройной) экран.", 
             wiki:"ЭИкм - Тройной экран: Оплетка + Лента + Оплетка. Максимальная защита."},
            {c:"ЭИа", l:"ЭИа - экран из алюмолавсановой ленты", 
             hint:"Обмотка лентой с контактным проводником.", 
             wiki:"ЭИа - экран из алюмолавсановой ленты. Для коррозионных сред."}, 
            {c:"ЭИал", l:"ЭИал - алюмолавсановая лента + оплетка", 
             hint:"Комбинированный (двойной) экран.", 
             wiki:"ЭИал - алюмолавсановая лента + луженая оплетка. Влагостойкость."}, 
            {c:"ЭИкл", l:"ЭИкл - оплетка + алюмолавсановая лента + оплетка", 
             hint:"Комбинированный (тройной) экран.", 
             wiki:"ЭИкл - Тройной экран с луженой медью. Высший класс защиты в агрессивных средах."},
            {c:"ЭИо", l:"ЭИо - экран в виде оплетки (Cu)", 
             hint:"Из медной круглой проволоки.", 
             wiki:"ЭИо - оплетка из медной проволоки. Для подвижного использования."},
            {c:"ЭИл", l:"ЭИл - экран в виде оплетки (Sn)", 
             hint:"Из медной луженой круглой проволоки.", 
             wiki:"ЭИл - оплетка из луженой проволоки. Подвижное использование + защита от коррозии."},
            {c:"ЭИн", l:"ЭИн - экран в виде оплетки (Ni)", 
             hint:"Из медной никелированной проволоки.", 
             wiki:"ЭИн - оплетка из никелированной проволоки. Для высоких температур до +250°С."}
        ]},
        { id:5, n:"Барьер Общий", opts:[
            {c:"", l:"Нет", 
             hint:"Без огнестойкого барьера.", 
             wiki:"Конструкция без общего огнестойкого барьера. Огнестойкость обеспечивается только при наличии барьера по жиле/паре или свойствами изоляции."}, 
            {c:"С", l:"С - с огнестойким барьером", 
             hint:"Общий барьер из слюдяных лент.", 
             wiki:"С - слюдяная огнестойкая лента поверх сердечника кабеля. Защита кабеля целиком от пламени."}
        ]},
        { id:6, n:"Экран Общий", opts:[
            {c:"", l:"Нет", 
             hint:"Без экрана.", 
             wiki:"Кабель без общего экрана. Не защищен от внешних электромагнитных полей. Рекомендуется прокладка в металлических трубах или лотках."}, 
            {c:"Эм", l:"Эм - экран из металлополимерной медной ленты", 
             hint:"Обмотка лентой с контактным проводником.", 
             wiki:"Эм - общий экран из медной ленты."}, 
            {c:"Эмо", l:"Эмо - медная лента + оплетка", 
             hint:"Комбинированный (двойной) экран.", 
             wiki:"Эмо - общий экран: Медная лента + Оплетка."}, 
            {c:"Экм", l:"Экм - оплетка + медная лента + оплетка", 
             hint:"Комбинированный (тройной) экран.", 
             wiki:"Экм - общий экран: Тройная защита (S-F-S)."}, 
            {c:"Эа", l:"Эа - экран из алюмолавсановой ленты", 
             hint:"Обмотка лентой с контактным проводником.", 
             wiki:"Эа - общий экран из алюмолавсановой ленты."}, 
            {c:"Эал", l:"Эал - алюмолавсановая лента + оплетка", 
             hint:"Комбинированный (двойной) экран.", 
             wiki:"Эал - общий экран: Алюмофлекс + Луженая оплетка."}, 
            {c:"Экл", l:"Экл - оплетка + алюмолавсановая лента + оплетка", 
             hint:"Комбинированный (тройной) экран.", 
             wiki:"Экл - общий экран: Тройная защита с лужением."}, 
            {c:"Эо", l:"Эо - экран в виде оплетки (Cu)", 
             hint:"Из медной круглой проволоки.", 
             wiki:"Эо - общий экран: Медная оплетка (для гибкости)."}, 
            {c:"Эл", l:"Эл - экран в виде оплетки (Sn)", 
             hint:"Из медной луженой круглой проволоки.", 
             wiki:"Эл - общий экран: Луженая оплетка (гибкость + коррозия)."},
            {c:"Эн", l:"Эн - экран в виде оплетки (Ni)", 
             hint:"Из медной никелированной проволоки.", 
             wiki:"Эн - общий экран: Никелированная оплетка (до +250°С)."}
        ]},
        { id:7, n:"Водоблокировка", opts:[
            {c:"", l:"Нет", 
             hint:"Без водоблокирующей ленты.", 
             wiki:"Сухое исполнение (без водоблокирующих элементов). При повреждении оболочки возможно продольное распространение влаги."}, 
            {c:"в", l:"в - с водоблокирующей лентой", 
             hint:"Поверх сердечника.", 
             wiki:"в - водоблокирующая лента. Защита от продольного распространения влаги при повреждении оболочки."}
        ]},
        { id:8, n:"Заполнение", opts:[
            {c:"", l:"Нет", 
             hint:"Без заполнителя.", 
             wiki:"Без экструдированного заполнения. Используется пленочная обмотка сердечника или свободная укладка."}, 
            {c:"з", l:"з - с заполнителем", 
             hint:"По сердечнику кабеля (экструдированное).", 
             wiki:"з - экструдированное заполнение (подложка). Придает круглую форму, обязательно для взрывозащиты Ex-d."}
        ]},
        { id:9, n:"Оболочка", opts:[
            {c:"В", l:"В - из поливинилхлоридного пластиката", 
             hint:"В том числе пониженной пожарной опасности.", 
             wiki:"В - ПВХ пластикат. Для групповой прокладки (без индекса УФ - внутри, с УФ - снаружи)."}, 
            {c:"П", l:"П - из полимерной композиции", 
             hint:"Не содержащей галогенов (HF).", 
             wiki:"П - полимерная композиция, не содержащая галогенов. Для зданий с массовым скоплением людей."}, 
            {c:"Пэ", l:"Пэ - из композиции полиэтилена", 
             hint:"Для прокладки в земле или на улице.", 
             wiki:"Пэ - светостабилизированный полиэтилен. Для одиночной прокладки на улице (УФ, осадки)."}, 
            {c:"Пб", l:"Пб - из сшитой полимерной композиции", 
             hint:"Не содержащей галогенов.", 
             wiki:"Пб – сшитая полимерная композиция HF. Для агрессивных сред."}, 
            {c:"У", l:"У - из термопластичного полиуретана", 
             hint:"В том числе маслобензостойкого.", 
             wiki:"У - термопластичный полиуретан. Износостойкий, маслобензостойкий. Температуры от -70°С до +125°С."}, 
            {c:"ПУ", l:"ПУ - из термопластичного полиуретана (HF)", 
             hint:"Не содержащего галогенов.", 
             wiki:"ПУ – безгалогенный полиуретан. Износостойкий + Пожаробезопасный."}, 
            {c:"Р", l:"Р - из силиконовой резины", 
             hint:"Кремнийорганической резины.", 
             wiki:"Р - силиконовая резина. Для горячих цехов (+200°С), бань, транспорта."},
            {c:"Тп", l:"Тп - из термоэластопласта", 
             hint:"В том числе холодостойкого.", 
             wiki:"Тп - термоэластопласт. Для одиночной прокладки до +100°С."},
            {c:"Ф", l:"Ф - из сополимеров фторопласта", 
             hint:"Высокая химстойкость.", 
             wiki:"Ф - фторопласт. Для экстремальных условий: химия, кислоты, температура до +250°С."}
        ]},
        { id:10, n:"Броня", opts:[
            {c:"", l:"Нет", 
             hint:"Кабели без брони.", 
             wiki:"Кабель без брони. Не предназначен для прокладки в грунт или условий с риском механических повреждений."}, 
            {c:"КГ", l:"КГ - оплетка из стальных оцинкованных проволок", 
             hint:"Без защитной оболочки (Гибкая).", 
             wiki:"КГ - оплетка из стальных оцинкованных проволок. Гибкая защита от механики и грызунов."}, 
            {c:"К", l:"К - оплетка из стальных оцинкованных проволок", 
             hint:"С защитной оболочкой.", 
             wiki:"К - оплетка из стальных проволок с защитным шлангом поверх. Для грунта и сырых помещений."}, 
            {c:"Б", l:"Б - из стальных оцинкованных лент", 
             hint:"С защитной оболочкой.", 
             wiki:"Б - стальные оцинкованные ленты. Защита от грызунов и давления грунта."}, 
            {c:"Кп", l:"Кп - повив из стальных оцинкованных проволок", 
             hint:"С защитной оболочкой.", 
             wiki:"Кп - повив из проволок. Для сильных тяговых нагрузок."}, 
            {c:"КБ", l:"КБ - комбинированная броня", 
             hint:"Оплетка + ленты с защитной оболочкой.", 
             wiki:"КБ - Двойная броня: Оплетка + Ленты. Максимальная механическая прочность."}
        ]},
        { id:11, n:"Пожарная безоп.", opts:[
            {c:"нг(А)", l:"нг(А)", 
             hint:"Не распространяющие горение (Кат. А).", 
             wiki:"нг(А) - Не распространяет горение при групповой прокладке (Кат. А). Производственные здания."}, 
            {c:"нг(А)-LS", l:"нг(А)-LS", 
             hint:"Пониженное дымо- и газовыделение (Low Smoke).", 
             wiki:"нг(А)-LS - Low Smoke. Жилые дома, ТЦ, заводы."}, 
            {c:"нг(А)-HF", l:"нг(А)-HF", 
             hint:"Не выделяющие коррозионных газов (Halogen Free).", 
             wiki:"нг(А)-HF - Halogen Free. Офисы, БЦ, Вокзалы. Нет коррозионных газов."}, 
            {c:"нг(А)-LSLTx", l:"нг(А)-LSLTx", 
             hint:"Низкая токсичность продуктов горения (Low Toxic).", 
             wiki:"нг(А)-LSLTx - Low Toxic. Низкая токсичность продуктов горения. Детсады, Больницы."}, 
            {c:"нг(А)-FRLS", l:"нг(А)-FRLS", 
             hint:"Огнестойкие, Low Smoke.", 
             wiki:"нг(А)-FRLS - Fire Resistant. Огнестойкий (сохраняет работоспособность в огне)."}, 
            {c:"нг(А)-FRHF", l:"нг(А)-FRHF", 
             hint:"Огнестойкие, Halogen Free.", 
             wiki:"нг(А)-FRHF - Огнестойкий безгалогенный. Для систем СПЗ в местах скопления людей."}, 
            {c:"нг(А)-FRLSLTx", l:"нг(А)-FRLSLTx", 
             hint:"Огнестойкие, Low Toxic.", 
             wiki:"нг(А)-FRLSLTx - Огнестойкий + LTx. Высшая категория безопасности."}
        ]},
        { id:12, n:"Климат", opts:[
            {c:"", l:"УХЛ", 
             hint:"Умеренно холодный климат.", 
             wiki:"УХЛ - Умеренно-холодный климат. Эксплуатация от -50°С до +70°С (базовое исполнение)."}, 
            {c:"-ХЛ", l:"-ХЛ", hint:"Холодный климат.", wiki:"ХЛ - Холодный климат (до -65°С)."}, 
            {c:"-ЭХЛ", l:"-ЭХЛ", hint:"Экстремально холодный климат.", wiki:"ЭХЛ - Экстремально холодный климат (до -70°С)."}, 
            {c:"-Т", l:"-Т", hint:"Тропический климат.", wiki:"Т - Тропический климат. Стойкость к плесени и влажности 98%."},
            {c:"-М", l:"-М", hint:"Морской климат.", wiki:"М - Морской климат. Стойкость к соляному туману."}
        ]},
        { id:13, n:"Маслостойкость", opts:[
            {c:"", l:"Нет", 
             hint:"Требование не предъявляется.", 
             wiki:"Стандартная стойкость к маслам (допускается эпизодическое воздействие)."}, 
            {c:"-МБ", l:"-МБ", hint:"Маслобензостойкие.", wiki:"МБ - Маслобензостойкий. Повышенная стойкость к ГСМ, дизтопливу, углеводородам."}
        ]},
        { id:14, n:"Химстойкость", opts:[
            {c:"", l:"Нет", 
             hint:"Требование не предъявляется.", 
             wiki:"Без специальной химической защиты (стандартное исполнение)."}, 
            {c:"-ХС", l:"-ХС", hint:"Химически стойкие.", wiki:"ХС - Химически стойкий. Кислоты, щелочи, аммиак."}
        ]},
        { id:15, n:"Термостойкость", opts:[
            {c:"", l:"Нет", 
             hint:"Требование не предъявляется.", 
             wiki:"Стандартный температурный диапазон эксплуатации (обычно до +70°С или +90°С в зависимости от материала)."}, 
            {c:"-ТС-125", l:"-ТС-125", hint:"До +125 °С.", wiki:"ТС-125 - Термостойкий до +125°С."}, 
            {c:"-ТС-150", l:"-ТС-150", hint:"До +150 °С.", wiki:"ТС-150 - Термостойкий до +150°С."},
            {c:"-ТС-200", l:"-ТС-200", hint:"До +200 °С.", wiki:"ТС-200 - Термостойкий до +200°С."},
            {c:"-ТС-250", l:"-ТС-250", hint:"До +250 °С.", wiki:"ТС-250 - Термостойкий до +250°С."}
        ]},
        { id:16, n:"УФ / Улица", opts:[
            {c:"", l:"Нет", 
             hint:"Требование не предъявляется.", 
             wiki:"Для прокладки внутри помещений. Не допускается прямое воздействие солнечного излучения (кроме оболочек Пэ/Черный)."}, 
            {c:"-УФ", l:"-УФ", hint:"Стойкие к солнечному излучению.", wiki:"УФ - для применения на открытом воздухе (стойкость к солнечной радиации)."}
        ]},
        { id:17, n:"Грызуны", opts:[
            {c:"", l:"Нет", 
             hint:"Требование не предъявляется.", 
             wiki:"Без защиты от грызунов (стандартное исполнение)."}, 
            {c:"-ГТ", l:"-ГТ", hint:"Защита от грызунов и термитов.", wiki:"ГТ - защита от грызунов и термитов (хим. добавка - репеллент)."}
        ]},
        { id:18, n:"Геометрия", opts:[
            {c:"NxS", l:"Скрутка жил (NxS)", hint:"В пучок.", wiki:"Скрутка жил в пучок."}, 
            {c:"Nx2xS", l:"Скрутка пар (Nx2xS)", hint:"В пары.", wiki:"Скрутка жил в пары."}, 
            {c:"Nx3xS", l:"Скрутка троек (Nx3xS)", hint:"В тройки.", wiki:"Скрутка жил в тройки."}
        ]},
        { id:19, n:"Гибкость (ГОСТ 22483)", opts:[
            {c:"(1)", l:"(1) - 1 класс", hint:"Однопроволочная жила.", wiki:"Класс 1. Жесткая жила. Для стационарной прокладки."}, 
            {c:"(3)", l:"(3) - 3 класс", hint:"Многопроволочная жила.", wiki:"Класс 3. Многопроволочная. Облегченный монтаж."}, 
            {c:"(4)", l:"(4) - 4 класс", hint:"Многопроволочная жила.", wiki:"Класс 4. Устойчивость к вибрации."}, 
            {c:"(5)", l:"(5) - 5 класс", hint:"Многопроволочная жила.", wiki:"Класс 5. Нестационарная прокладка (буксируемые цепи, роботы)."}, 
            {c:"(6)", l:"(6) - 6 класс", hint:"Многопроволочная жила.", wiki:"Класс 6. Робототехника, высокие нагрузки на изгиб."}
        ]},
        { id:20, n:"Покрытие жилы", opts:[
            {c:"", l:"Медная проволока", hint:"Без покрытия.", wiki:"Медная мягкая проволока (без лужения/никелирования)."}, 
            {c:"л", l:"л - Медная луженая", hint:"Луженая проволока.", wiki:"Луженая медь. Защита от коррозии, легкая пайка."}, 
            {c:"н", l:"н - Медная никелированная", hint:"Никелированная проволока.", wiki:"Никелированная медь. Для высоких температур."}
        ]},
        { id:21, n:"Искробезоп.", opts:[
            {c:"", l:"Нет", hint:"Общее назначение.", wiki:"Общепромышленное применение (не Ex-i)."}, 
            {c:"i", l:"i - Искробезопасная цепь", hint:"Для взрывозащиты типа i.", wiki:"i - для искробезопасных цепей (Ex-i). Синяя оболочка."}
        ]},
        { id:22, n:"Напряжение", opts:[
            {c:"-300", l:"-300", hint:"До 300 В.", wiki:"300В - для слаботочных систем и интерфейсов."}, 
            {c:"-500", l:"-500", hint:"До 500 В.", wiki:"500В - для систем автоматики и управления."}, 
            {c:"-660", l:"-660", hint:"До 660 В.", wiki:"660В - для цепей контроля и управления."}
        ]},
        { id:23, n:"Протокол", opts:[
            {c:"", l:"Нет", hint:"Без протокола.", wiki:"Кабель общего назначения, не привязанный к конкретному протоколу."}, 
            {c:"[485]", l:"[485] - RS-485", hint:"До 10 Мбит/с.", wiki:"Оптимизирован для RS-485, CAN, ModBus, HART."}, 
            {c:"[PB]", l:"[PB] - Profibus", hint:"31,25 Кбит/с.", wiki:"Для сетевого протокола Profibus."}, 
            {c:"[FF]", l:"[FF] - Foundation Fieldbus", hint:"31,25 Кбит/с.", wiki:"Для сетевого протокола Foundation Fieldbus."}
        ]},
        { id:24, n:"Цвет оболочки", opts:[
            {c:"Серый", l:"Серый", hint:"Базовое исполнение.", wiki:"Серый (RAL 7035). Базовое исполнение."}, 
            {c:"Черный", l:"Черный", hint:"Базовое исполнение.", wiki:"Черный (RAL 9005). Стойкость к УФ. Стандарт для Пэ."}, 
            {c:"Синий", l:"Синий", hint:"Для Ex-i.", wiki:"Синий (RAL 5015). Для искробезопасных цепей Ex-i."}, 
            {c:"Оранжевый", l:"Оранжевый", hint:"Для огнестойких.", wiki:"Оранжевый (RAL 2003). Для огнестойких кабелей."}, 
            {c:"Красный", l:"Красный", hint:"Для огнестойких.", wiki:"Красный (RAL 3000). Для систем пожарной сигнализации."}, 
            {c:"Фиолетовый", l:"Фиолетовый", hint:"Для Profibus.", wiki:"Фиолетовый (RAL 4001). Для интерфейса Profibus."}, 
            {c:"Желтый", l:"Желтый", hint:"Предупреждающий.", wiki:"Желтый (RAL 1021). Предупреждающий."}, 
            {c:"Спец", l:"Спеццвет", hint:"По согласованию.", wiki:"Цвет по запросу заказчика."}
        ]}
    ],

    // ============================================================
    // 3. ЛИМИТЫ (ДЕФОЛТЫ)
    // ============================================================
    LIMITS: {
        'BUS': { 
            volt: '-300', types: ['x2x'], 
            proto: { 
                '[485]': { S:['0.60','0.75','1.0','1.5'], N:[1,2,3,4] }, 
                '[PB]': { S:['0.64'], N:[1,2] }, 
                '[FF/PA]': { S:['0.80','1.0','1.5','2.5'], N:[1] }, 
                '': { S:['0.50','0.75','1.0','1.5'], N:[1,2,4] } 
            }, 
            defaults: { 2:'Пв', 6:'Экл', 9:'В', 11:'нг(А)-LS', 22:'-300', 23:'[485]', 24:'Серый' } 
        },
        'SIGNAL': { 
            volt: '-500', types: ['x2x', 'x3x', 'x'], 
            valid_S: ['0.50','0.75','1.0','1.2','1.5','2.5'], 
            defaults: { 2:'В', 6:'Эа', 9:'В', 11:'нг(А)-LS', 22:'-500', 24:'Серый' }, 
            get_valid_N: (s, type) => { 
                const std = [1,2,3,4,5,7,8,10,12,14,19,24,27,30,37]; 
                let max = (type === 'x' ? (s >= 2.5 ? 19 : 37) : (s >= 2.5 ? 10 : (s >= 1.5 ? 19 : 24))); 
                return std.filter(n => n <= max); 
            } 
        },
        'CONTROL': { 
            volt: '-660', types: ['x', 'vfd'], 
            valid_S: ['0.75','1.0','1.2','1.5','2.5','4.0','6.0'], 
            defaults: { 2:'В', 6:'', 9:'В', 11:'нг(А)-LS', 22:'-660', 24:'Серый' }, 
            vfd_map: {'1.5':'3х1.5+3х0.75', '2.5':'3х2.5+3х1.0', '4.0':'3х4.0+3х1.5', '6.0':'3х6.0+3х1.5'}, 
            get_valid_N: (s, type) => { 
                if(type==='vfd') return [1]; 
                let max = (s>=2.5) ? 19 : 37; 
                if(s>=4.0) return [2,3,4,5,7,10]; 
                return [2,3,4,5,7,10,12,14,19,24,27,30,37].filter(n => n <= max); 
            } 
        }
    },
    
    GROUPS: [
        { t: "1. ТИП И БЕЗОПАСНОСТЬ", ids: [23, 11, 1, 8, 21] }, 
        { t: "2. СРЕДА ЭКСПЛУАТАЦИИ", ids: [12, 13, 14, 15, 16, 17] }, 
        { t: "3. КОНСТРУКЦИЯ", ids: [19, 4, 6, 10, 7, 5, 3] }, 
        { t: "4. ГЕОМЕТРИЯ ЖИЛ", ids: [18, 20] }, 
        { t: "5. МАТЕРИАЛЫ И ЦВЕТ", ids: [2, 9, 24] }
    ],
    GEO_TYPES: [{c:'x2x', l:'ВИТЫЕ ПАРЫ'}, {c:'x3x', l:'ТРОЙКИ'}, {c:'x', l:'ЖИЛЫ'}, {c:'vfd', l:'VFD (3+3)'}],

    // 4. TWIN CATALOG (PLACEHOLDER)
    TWIN_DB: {}
};